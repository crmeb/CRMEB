(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-login-index"],{"0c19":function(t,e,n){n("fb6a"),n("f4b3"),n("a9e3"),n("d3b7"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("1276"),n("bf19"),function(e,n){t.exports=n()}(0,(function(){"use strict";var t="millisecond",e="second",n="minute",i="hour",a="day",r="week",o="month",s="quarter",c="year",u=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,l=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,p=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},d={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+p(i,2,"0")+":"+p(a,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,o),a=e-i<0,r=t.clone().add(n+(a?-1:1),o);return Number(-(n+(e-i)/(a?i-r:r-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(u){return{M:o,y:c,w:r,d:a,D:"date",h:i,m:n,s:e,ms:t,Q:s}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},h="en",g={};g[h]=f;var v=function(t){return t instanceof b},m=function(t,e,n){var i;if(!t)return h;if("string"==typeof t)g[t]&&(i=t),e&&(g[t]=e,i=t);else{var a=t.name;g[a]=t,i=a}return!n&&i&&(h=i),i||!n&&h},w=function(t,e){if(v(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new b(n)},$=d;$.l=m,$.i=v,$.w=function(t,e){return w(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var b=function(){function p(t){this.$L=this.$L||m(t.locale,null,!0),this.parse(t)}var d=p.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(u);if(i)return n?new Date(Date.UTC(i[1],i[2]-1,i[3]||1,i[4]||0,i[5]||0,i[6]||0,i[7]||0)):new Date(i[1],i[2]-1,i[3]||1,i[4]||0,i[5]||0,i[6]||0,i[7]||0)}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return $},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=w(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return w(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<w(t)},d.$g=function(t,e,n){return $.u(t)?this[e]:this.set(n,t)},d.year=function(t){return this.$g(t,"$y",c)},d.month=function(t){return this.$g(t,"$M",o)},d.day=function(t){return this.$g(t,"$W",a)},d.date=function(t){return this.$g(t,"$D","date")},d.hour=function(t){return this.$g(t,"$H",i)},d.minute=function(t){return this.$g(t,"$m",n)},d.second=function(t){return this.$g(t,"$s",e)},d.millisecond=function(e){return this.$g(e,"$ms",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,s){var u=this,l=!!$.u(s)||s,p=$.p(t),d=function(t,e){var n=$.w(u.$u?Date.UTC(u.$y,e,t):new Date(u.$y,e,t),u);return l?n:n.endOf(a)},f=function(t,e){return $.w(u.toDate()[t].apply(u.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(e)),u)},h=this.$W,g=this.$M,v=this.$D,m="set"+(this.$u?"UTC":"");switch(p){case c:return l?d(1,0):d(31,11);case o:return l?d(1,g):d(0,g+1);case r:var w=this.$locale().weekStart||0,b=(h<w?h+7:h)-w;return d(l?v-b:v+(6-b),g);case a:case"date":return f(m+"Hours",0);case i:return f(m+"Minutes",1);case n:return f(m+"Seconds",2);case e:return f(m+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(r,s){var u,l=$.p(r),p="set"+(this.$u?"UTC":""),d=(u={},u[a]=p+"Date",u.date=p+"Date",u[o]=p+"Month",u[c]=p+"FullYear",u[i]=p+"Hours",u[n]=p+"Minutes",u[e]=p+"Seconds",u[t]=p+"Milliseconds",u)[l],f=l===a?this.$D+(s-this.$W):s;if(l===o||l===c){var h=this.clone().set("date",1);h.$d[d](f),h.init(),this.$d=h.set("date",Math.min(this.$D,h.daysInMonth())).toDate()}else d&&this.$d[d](f);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[$.p(t)]()},d.add=function(t,s){var u,l=this;t=Number(t);var p=$.p(s),d=function(e){var n=w(l);return $.w(n.date(n.date()+Math.round(e*t)),l)};if(p===o)return this.set(o,this.$M+t);if(p===c)return this.set(c,this.$y+t);if(p===a)return d(1);if(p===r)return d(7);var f=(u={},u[n]=6e4,u[i]=36e5,u[e]=1e3,u)[p]||1,h=this.$d.getTime()+t*f;return $.w(h,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=$.z(this),a=this.$locale(),r=this.$H,o=this.$m,s=this.$M,c=a.weekdays,u=a.months,p=function(t,i,a,r){return t&&(t[i]||t(e,n))||a[i].substr(0,r)},d=function(t){return $.s(r%12||12,t,"0")},f=a.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:$.s(s+1,2,"0"),MMM:p(a.monthsShort,s,u,3),MMMM:u[s]||u(this,n),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:p(a.weekdaysMin,this.$W,c,2),ddd:p(a.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:$.s(r,2,"0"),h:d(1),hh:d(2),a:f(r,o,!0),A:f(r,o,!1),m:String(o),mm:$.s(o,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:i};return n.replace(l,(function(t,e){return e||h[t]||i.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,u,l){var p,d=$.p(u),f=w(t),h=6e4*(f.utcOffset()-this.utcOffset()),g=this-f,v=$.m(this,f);return v=(p={},p[c]=v/12,p[o]=v,p[s]=v/3,p[r]=(g-h)/6048e5,p[a]=(g-h)/864e5,p[i]=g/36e5,p[n]=g/6e4,p[e]=g/1e3,p)[d]||g,l?v:$.a(v)},d.daysInMonth=function(){return this.endOf(o).$D},d.$locale=function(){return g[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=m(t,e,!0);return i&&(n.$L=i),n},d.clone=function(){return $.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},p}();return w.prototype=b.prototype,w.extend=function(t,e){return t(e,b,w),w},w.locale=m,w.isDayjs=v,w.unix=function(t){return w(1e3*t)},w.en=g[h],w.Ls=g,w}))},"1eca":function(t,e,n){var i=n("e104");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("53335881",i,!0,{sourceMap:!1,shadowMode:!1})},"2fd9":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"login-wrapper",style:t.colorStyle},[i("v-uni-view",{staticClass:"shading"},[i("v-uni-image",{attrs:{src:t.logoUrl}})],1),1===t.formItem?i("v-uni-view",{staticClass:"whiteBg"},[1!==t.current?i("v-uni-view",{staticClass:"list"},[i("v-uni-form",{on:{submit:function(e){e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"acea-row row-middle"},[i("v-uni-image",{staticStyle:{width:"24rpx",height:"34rpx"},attrs:{src:n("e7dc")}}),i("v-uni-input",{attrs:{type:"text",placeholder:t.$t("输入手机号码"),maxlength:"11",required:!0},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"acea-row row-middle"},[i("v-uni-image",{staticStyle:{width:"28rpx",height:"32rpx"},attrs:{src:n("9bbe")}}),i("v-uni-input",{attrs:{type:"password",placeholder:t.$t("填写登录密码"),required:!0},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1):t._e(),0!==t.current||t.appLoginStatus||t.appleLoginStatus?i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"acea-row row-middle"},[i("v-uni-image",{staticStyle:{width:"24rpx",height:"34rpx"},attrs:{src:n("e7dc")}}),i("v-uni-input",{attrs:{type:"text",placeholder:t.$t("输入手机号码"),maxlength:"11"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"acea-row row-middle"},[i("v-uni-image",{staticStyle:{width:"28rpx",height:"32rpx"},attrs:{src:n("80e2")}}),i("v-uni-input",{staticClass:"codeIput",attrs:{type:"text",placeholder:t.$t("填写验证码"),maxlength:"6"},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}}),i("v-uni-button",{staticClass:"code",class:!0===t.disabled?"on":"",attrs:{disabled:t.disabled},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.code.apply(void 0,arguments)}}},[t._v(t._s(t.text))])],1)],1)],1):t._e(),0!==t.current?i("v-uni-view",{staticClass:"logon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loginMobile.apply(void 0,arguments)}}},[t._v(t._s(t.$t("登录")))]):t._e(),0===t.current?i("v-uni-view",{staticClass:"logon",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v(t._s(t.$t("登录")))]):t._e(),i("v-uni-view",{staticClass:"tips"},[0==t.current?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.current=1}}},[t._v(t._s(t.$t("快速登录")))]):t._e(),1==t.current?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.current=0}}},[t._v(t._s(t.$t("账号登录")))]):t._e()],1),i("v-uni-view",{staticClass:"protocol"},[i("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.ChangeIsDefault.apply(void 0,arguments)}}},[i("v-uni-checkbox",{class:t.inAnimation?"trembling":"",attrs:{checked:!!t.protocol},on:{animationend:function(e){arguments[0]=e=t.$handleEvent(e),t.inAnimation=!1}}}),t._v(t._s(t.$t("已阅读并同意"))),i("v-uni-text",{staticClass:"main-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.privacy(4)}}},[t._v(t._s(t.$t("《用户协议》")))]),t._v(t._s(t.$t("与"))),i("v-uni-text",{staticClass:"main-color",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.privacy(3)}}},[t._v(t._s(t.$t("《隐私协议》")))])],1)],1)],1):t._e(),i("v-uni-view",{staticClass:"bottom"},[t.copyRight?i("v-uni-view",{staticClass:"ver"},[t._v(t._s(t.copyRight))]):i("v-uni-view",{staticClass:"ver"},[t._v("© 2014-2022"),i("a",{attrs:{href:"https://www.crmeb.com"}},[t._v("www.crmeb.com")])])],1),i("Verify",{ref:"verify",attrs:{captchaType:"blockPuzzle",imgSize:{width:"330px",height:"155px"}},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.success.apply(void 0,arguments)}}})],1)},r=[]},"3b5b":function(t,e,n){"use strict";var i=n("1eca"),a=n.n(i);a.a},"48b6":function(t,e,n){"use strict";n.r(e);var i=n("b6f2"),a=n.n(i);for(var r in i)"default"!==r&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"6e83":function(t,e,n){var i=n("d657");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("5b5f695d",i,!0,{sourceMap:!1,shadowMode:!1})},"80e2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAgCAYAAAABtRhCAAAD1klEQVRIS+2Xa4gbVRTH///ZjXR3VSz4AquuL+oXv/kA7YeuoiY792bpUoIKYlmh1CKoaEWrxSiWim8RXEWrKD4jVsmdyaKCKVr7oRs/iigoFZHGWl80u2qTzJEbJst0mtnMWvpFvBAIcx6/c86998wZYonLGLOW5GMAlgHYVKvV3iwWi0FaN0yjaIw5g+T1AG4FcHbURkR+APBsJpN5PZvN7uvnLxFoIY7jFEQkJyJXkXRCZy0ReQvAXyTXAcjY5yLSdhznoyAI/Gaz+e7k5OT+XnBWKpXzgiBYBWAYwAoRGQVwKcnzY5nsJ/nKwMDA87lcbq+Vlcvls0jeAmCK5KkxwFcA9gD4HsCPAP5uNpu7aIz5jeRJCaX4A8CHAN6fn5/fUSgUDvXSK5VKxw0NDa0FMAngWpLHJ/j7mZ7nSSj8VkS+Jvmd/QH4YnZ2dnexWGz125eovFarZer1+ioRuZjkqIicQ3IlgHOtXhR4hVJq91Kcp9X1PO9yAJ//D0xbsb56/62S+r5/m4j8rpR6tZv6McvQ87ynANxuQUqphS52TIBRmIg8orW+d8kZep7nAjhdKbV9sZMRhQF4Wil1R1Q/dYbGmINhmzrCSST6hTL2glm9OND2x4yIjGmtd0YjM8ZsI3lP+KxX5H1hIXAMwCcA/rStzb5GThGRNVrrD+KlSypXvzLGSmqb+nsA9tH3/T0icomIbNZab+u1V3HnoU7nNCaVMQa8D8DDAD6zwGkR2UDSuK6bTzocMWhXLXFvY8AZAFmSz9j34RqSO2x92+32aRMTEwdTQtPClgP4KZwMrrZA+6avkzzBDkVKqcf7XIGbwou90En66G8GsNUyRkZGzux0A2PMoyQ3ATgwODi4MpvN/tq3I6dQqFQqK4Ig+BLAid1kusCTSX4DwKb/tlLKTmhHtUql0sDw8PDHAMbCye5CrfV8tN+tB/BCSHlCKXXX0RCNMdMkN1gfIpLXWhv7/7Ax0fO8lwDcHIK2KqXu/zdQz/PsoNwJWES2aK3tleisw4DVanVwbm7unXD6svI3RGS9LUUacLVaXdZoNLaTvCGEPam1vjNqe8QgbKGNRuNlkjeGinsdx9k4Pj5u71LiMsbYYXkawAWdTMii67oPxg0SJ+9yubzRcRx7RYZCo51BEGzJ5/O7ok58378MwEMick2Y1S8kp5RS5V7RLfptMTMzM9pqtZ4jmYsYfyoiJQCHHMe5TkSuDGVtEXkNwN1a6wNJpUj7MbOa5AMAVvdw1ARgA7CHzI73i65UwK4H3/cvEpEpESmQtLYv2n1zXbfeD9SV/wMtt/fR/C3zpwAAAABJRU5ErkJggg=="},"9bbe":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAhCAYAAAAoNdCeAAAC40lEQVRIS+2XMWgUURCGZ5YNyQXtTIhgESsbQUMskk4wYmDfu5DCSwIpPBRMoRjQwkY8wUIhIqISC+UiFsaQI3A7yxWJaGcKBcUmoGBAxcA1FrIIWd7IxD1Rs3e7m7MKDmy1/8z33rx5895DSGCVSmVfEATjiKgAoCv8VgFgBQDmfd9/ksvlvsWFwkaCubm5He3t7bcBYBwA7AbaNQC4qJR62CheXVipVNrT2tpaAYD9ABAAwCwzl4IgeG3btsxil2VZR5j5FAAcFAgz39Fan60HjISFM3ohIGZ+b4wZGxoaelkviOu65xBxSmaPiAXHca5EaSNhRHQTACYBYBUR+x3HkTQ1NCIaBYDHoeiQUurV3w6bYAsLC90tLS3vZJTGmP5sNrscB6r9JyJZ3zMAsKSUOhoLI6LzADDFzKS11klBovM8r4uZP8pAfd/fncvl/sjIppkRkRTFoDEmn81mZ9LAREtEiwAwAABjSqnZ3/2jYG+lMNKmsBbU87xpZp4It8L1ONgHAOheX1/fOzw8LBs3lXmed5mZC1FVGTWzbQQrFAp2b2/vCCLKwsp+aWPmZUT8niqHP8Xd8jHzCiIuMfN9rfUb+YHFYrGto6PDDStoC7FjXQJEnHQc5y7WFpSZv0rLMcZ8jnVPKLAs61iYKemtPUhEGwXBzMe11vMJ4ySWEZG0sFFmviowFk/f93cmOZMSU0Kh67oTiDgNADO/YEqphmdbWkhNXy6XT1iWVdwSzHXdA4g4WK1Wb+Xz+dhqbRbmyvUg6Ro3BSOiZwBwOGmj/g+LLMBtncaNkzzqJI5KRVMFUi6X+yzLGvF9/1KSjtMULG0niYRVq9VMko6QFuZ53mlmvldrV1/kocDMA1rrp2mDxemJ6JG8FZj5mjTi2u13zRhTsG1bXiZNmzGmLSwkuVkDIvag3OszmcwiIvY1Tagf4IJS6sbGsSJXg87OzpPMLO8vGdG/sk/M/EBr/VwC/gDkA8qD3+IgCAAAAABJRU5ErkJggg=="},b647:function(t,e,n){"use strict";var i=n("6e83"),a=n.n(i);a.a},b6f2:function(t,e,n){"use strict";(function(t){var i=n("dbce"),a=n("4ea4");n("c975"),n("ac1f"),n("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var r=a(n("1da1")),o=(a(n("0c19")),a(n("5645"))),s=n("816a"),c=(i(n("a25d")),n("18f5")),u=n("8aa57"),l=a(n("9ad2")),p=a(n("234b")),d="login_back_url",f={name:"Login",components:{Verify:p.default},mixins:[o.default,l.default],data:function(){return{copyRight:"",inAnimation:!1,protocol:!1,navList:[this.$t("快速登录"),this.$t("账号登录")],current:1,account:"",password:"",captcha:"",formItem:1,type:"login",logoUrl:"",keyCode:"",codeUrl:"",codeVal:"",isShowCode:!1,appLoginStatus:!1,appUserInfo:null,appleLoginStatus:!1,appleUserInfo:null,appleShow:!1,keyLock:!0}},watch:{formItem:function(t,e){this.type=1==t?"login":"register"}},onLoad:function(){var t=this,e=this;uni.getSystemInfo({success:function(n){"ios"==n.platform.toLowerCase()&&t.getSystem(n.system)&&(e.appleShow=!0)}}),uni.getStorageSync("copyRight").copyrightContext&&(this.copyRight=uni.getStorageSync("copyRight").copyrightContext)},mounted:function(){this.getLogoImage()},methods:{ChangeIsDefault:function(t){this.$set(this,"protocol",!this.protocol)},privacy:function(t){uni.navigateTo({url:"/pages/users/privacy/index?type="+t})},getSystem:function(t){var e;return e=-1===t.toLowerCase().indexOf("ios")?t:t.split(" ")[1],e.indexOf(".")?e.split(".")[0]>=13:e>=13},appleLogin:function(){var t=this;if(this.account="",this.captcha="",!t.protocol)return this.inAnimation=!0,t.$util.Tips({title:"请先阅读并同意协议"});uni.showLoading({title:this.$t("登录中")}),uni.login({provider:"apple",timeout:1e4,success:function(e){uni.getUserInfo({provider:"apple",success:function(e){t.appleUserInfo=e.userInfo,t.appleLoginApi()},fail:function(){uni.showToast({title:t.$t("获取用户信息失败"),icon:"none",duration:2e3})},complete:function(){uni.hideLoading()}})},fail:function(t){}})},appleLoginApi:function(){var t=this;(0,s.appleLogin)({openId:t.appleUserInfo.openId,email:t.appleUserInfo.email||"",phone:this.account,captcha:this.captcha}).then((function(e){var n=e.data;if(n.isbind)uni.showModal({title:t.$t("提示"),content:t.$t("请绑定手机号后，继续操作"),showCancel:!1,success:function(e){e.confirm&&(t.current=1,t.appleLoginStatus=!0)}});else{t.$store.commit("LOGIN",{token:n.token,time:n.expires_time-t.$Cache.time()});var i=t.$Cache.get(d)||"/pages/index/index";t.$Cache.clear(d),t.$store.commit("SETUID",n.userInfo.uid),uni.reLaunch({url:i})}})).catch((function(e){uni.showModal({title:t.$t("提示"),content:t.$t("错误信息")+"".concat(e),success:function(e){e.confirm?t.$t("用户点击确定"):e.cancel&&t.$t("用户点击取消")}})}))},wxLogin:function(){var t=this;if(this.account="",this.captcha="",!t.protocol)return this.inAnimation=!0,t.$util.Tips({title:"请先阅读并同意协议"});uni.showLoading({title:t.$t("登录中")}),uni.login({provider:"weixin",success:function(e){uni.getUserInfo({provider:"weixin",success:function(e){t.appUserInfo=e.userInfo,t.wxLoginApi()},fail:function(){uni.showToast({title:t.$t("获取用户信息失败"),icon:"none",duration:2e3})},complete:function(){uni.hideLoading()}})},fail:function(){uni.showToast({title:t.$t("登录失败"),icon:"none",duration:2e3})}})},wxLoginApi:function(){var t=this;wechatAppAuth({userInfo:t.appUserInfo,phone:this.account,code:this.captcha}).then((function(e){var n=e.data;if(n.isbind)uni.showModal({title:t.$t("提示"),content:t.$t("请绑定手机号后，继续操作"),showCancel:!1,success:function(e){e.confirm&&(t.current=1,t.appLoginStatus=!0)}});else{t.$store.commit("LOGIN",{token:n.token,time:n.expires_time-t.$Cache.time()});var i=t.$Cache.get(d)||"/pages/index/index";t.$Cache.clear(d),t.$store.commit("SETUID",n.userInfo.uid),uni.reLaunch({url:i})}})).catch((function(e){uni.showModal({title:t.$t("提示"),content:t.$t("错误信息")+"".concat(e),success:function(e){e.confirm?t.$t("用户点击确定"):e.cancel&&t.$t("用户点击取消")}})}))},again:function(){this.codeUrl=u.VUE_APP_API_URL+"/sms_captcha?key="+this.keyCode+Date.parse(new Date)},success:function(t){var e=this;this.$refs.verify.hide(),(0,s.getCodeApi)().then((function(n){e.keyCode=n.data.key,e.getCode(t)})).catch((function(t){e.$util.Tips({title:t})}))},code:function(){var t=this;return t.protocol?t.account?/^1(3|4|5|7|8|9|6)\d{9}$/i.test(t.account)?void this.$refs.verify.show():t.$util.Tips({title:t.$t("请输入正确的手机号码")}):t.$util.Tips({title:t.$t("请填写手机号码")}):(this.inAnimation=!0,t.$util.Tips({title:"请先阅读并同意协议"}))},getLogoImage:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t,(0,c.getLogo)(2).then((function(t){n.logoUrl=t.data.logo_url}));case 2:case"end":return e.stop()}}),e)})))()},loginMobile:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,n.protocol){e.next=4;break}return t.inAnimation=!0,e.abrupt("return",n.$util.Tips({title:"请先阅读并同意协议"}));case 4:if(n.account){e.next=6;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请填写手机号码")}));case 6:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.account)){e.next=8;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请输入正确的手机号码")}));case 8:if(n.captcha){e.next=10;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请填写验证码")}));case 10:if(/^[\w\d]+$/i.test(n.captcha)){e.next=12;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请输入正确的验证码")}));case 12:if(!n.appLoginStatus){e.next=16;break}n.wxLoginApi(),e.next=26;break;case 16:if(!n.appleLoginStatus){e.next=20;break}n.appleLoginApi(),e.next=26;break;case 20:if(!t.keyLock){e.next=24;break}t.keyLock=!t.keyLock,e.next=25;break;case 24:return e.abrupt("return",n.$util.Tips({title:n.$t("请勿重复点击")}));case 25:(0,s.loginMobile)({phone:n.account,captcha:n.captcha,spread:n.$Cache.get("spread")}).then((function(e){var i=e.data;n.$store.commit("LOGIN",{token:i.token,time:i.expires_time-t.$Cache.time()});var a=n.$Cache.get(d)||"/pages/index/index";n.$Cache.clear(d),(0,s.getUserInfo)().then((function(e){t.keyLock=!0,n.$store.commit("SETUID",e.data.uid),-1!==a.indexOf("/pages/users/login/index")&&(a="/pages/index/index"),uni.reLaunch({url:a})}))})).catch((function(e){t.keyLock=!0,n.$util.Tips({title:e})}));case 26:case"end":return e.stop()}}),e)})))()},register:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,n.protocol){e.next=4;break}return t.inAnimation=!0,e.abrupt("return",n.$util.Tips({title:"请先阅读并同意协议"}));case 4:if(n.account){e.next=6;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请填写手机号码")}));case 6:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(n.account)){e.next=8;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请输入正确的手机号码")}));case 8:if(n.captcha){e.next=10;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请填写验证码")}));case 10:if(/^[\w\d]+$/i.test(n.captcha)){e.next=12;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请输入正确的验证码")}));case 12:if(n.password){e.next=14;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请填写密码")}));case 14:if(!/^([0-9]|[a-z]|[A-Z]){0,6}$/i.test(n.password)){e.next=16;break}return e.abrupt("return",n.$util.Tips({title:n.$t("您输入的密码过于简单")}));case 16:(0,s.register)({account:n.account,captcha:n.captcha,password:n.password,spread:n.$Cache.get("spread")}).then((function(t){n.$util.Tips({title:t}),n.formItem=1})).catch((function(t){n.$util.Tips({title:t})}));case 17:case"end":return e.stop()}}),e)})))()},getCode:function(t){var e=this;return(0,r.default)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e,i.protocol){n.next=4;break}return e.inAnimation=!0,n.abrupt("return",i.$util.Tips({title:"请先阅读并同意协议"}));case 4:if(i.account){n.next=6;break}return n.abrupt("return",i.$util.Tips({title:i.$t("请填写手机号码")}));case 6:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(i.account)){n.next=8;break}return n.abrupt("return",i.$util.Tips({title:i.$t("请输入正确的手机号码")}));case 8:return 2==i.formItem&&(i.type="register"),n.next=11,(0,s.registerVerify)({phone:i.account,type:i.type,key:i.keyCode,captchaType:"blockPuzzle",captchaVerification:t.captchaVerification}).then((function(t){e.sendCode(),i.$util.Tips({title:t.msg})})).catch((function(t){i.$util.Tips({title:t})}));case 11:case"end":return n.stop()}}),n)})))()},navTap:function(t){this.current=t},submit:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,n.protocol){e.next=4;break}return t.inAnimation=!0,e.abrupt("return",n.$util.Tips({title:"请先阅读并同意协议"}));case 4:if(n.account){e.next=6;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请填写账号")}));case 6:if(/^[\w\d]{5,16}$/i.test(n.account)){e.next=8;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请输入正确的账号")}));case 8:if(n.password){e.next=10;break}return e.abrupt("return",n.$util.Tips({title:n.$t("请填写密码")}));case 10:if(!t.keyLock){e.next=14;break}t.keyLock=!t.keyLock,e.next=15;break;case 14:return e.abrupt("return",n.$util.Tips({title:n.$t("请勿重复点击")}));case 15:(0,s.loginH5)({account:n.account,password:n.password,spread:n.$Cache.get("spread")}).then((function(e){var i=e.data;n.$store.commit("LOGIN",{token:i.token,time:i.expires_time-t.$Cache.time()});var a=n.$Cache.get(d)||"/pages/index/index";n.$Cache.clear(d),(0,s.getUserInfo)().then((function(e){t.keyLock=!0,n.$store.commit("SETUID",e.data.uid),uni.reLaunch({url:a})})).catch((function(e){t.keyLock=!0}))})).catch((function(e){t.keyLock=!0,n.$util.Tips({title:e})}));case 16:case"end":return e.stop()}}),e)})))()}}};e.default=f}).call(this,n("5a52")["default"])},bf19:function(t,e,n){"use strict";var i=n("23e7");i({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},d657:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-4673da54]{background:#fff}body.?%PAGE?%[data-v-4673da54]{background:#fff}",""]),t.exports=e},e104:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* crmeb颜色变量 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.appLogin[data-v-4673da54]{margin-top:%?60?%}.appLogin .hds[data-v-4673da54]{display:flex;justify-content:center;align-items:center;font-size:%?24?%;color:#b4b4b4}.appLogin .hds .line[data-v-4673da54]{width:%?68?%;height:%?1?%;background:#ccc}.appLogin .hds p[data-v-4673da54]{margin:0 %?20?%}.appLogin .btn-wrapper[data-v-4673da54]{display:flex;align-items:center;justify-content:center;margin-top:%?30?%}.appLogin .btn-wrapper .btn[data-v-4673da54]{display:flex;align-items:center;justify-content:center;width:%?68?%;height:%?68?%;border-radius:50%}.appLogin .btn-wrapper .apple-btn[data-v-4673da54]{display:flex;align-items:center;justify-content:center;width:%?68?%;height:%?68?%;border-radius:50%;background:#000}.appLogin .btn-wrapper .apple-btn .icon-s-pingguo[data-v-4673da54]{color:#fff;font-size:%?44?%}.appLogin .btn-wrapper .iconfont[data-v-4673da54]{font-size:%?40?%;color:#fff}.appLogin .btn-wrapper .wx[data-v-4673da54]{margin-right:%?30?%;background-color:#61c64f}.appLogin .btn-wrapper .mima[data-v-4673da54]{margin-right:%?30?%;background-color:#28b3e9}.appLogin .btn-wrapper .yanzheng[data-v-4673da54]{margin-right:%?30?%;background-color:#f89c23}.code img[data-v-4673da54]{width:100%;height:100%}.acea-row.row-middle uni-input[data-v-4673da54]{margin-left:%?20?%;display:block}.login-wrapper[data-v-4673da54]{padding:%?30?%}.login-wrapper .shading[data-v-4673da54]{display:flex;align-items:center;justify-content:center;width:100%;margin-top:%?200?%}.login-wrapper .shading uni-image[data-v-4673da54]{width:%?240?%;height:%?240?%}.login-wrapper .whiteBg[data-v-4673da54]{margin-top:%?100?%}.login-wrapper .whiteBg .list[data-v-4673da54]{border-radius:%?16?%;overflow:hidden}.login-wrapper .whiteBg .list .item[data-v-4673da54]{border-bottom:1px solid #f0f0f0;background:#fff}.login-wrapper .whiteBg .list .item .row-middle[data-v-4673da54]{position:relative;padding:%?16?% %?45?%}.login-wrapper .whiteBg .list .item .row-middle uni-input[data-v-4673da54]{flex:1;font-size:%?28?%;height:%?80?%}.login-wrapper .whiteBg .list .item .row-middle .code[data-v-4673da54]{position:absolute;right:%?30?%;top:50%;color:var(--view-theme);font-size:%?26?%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.login-wrapper .whiteBg .logon[data-v-4673da54]{display:flex;align-items:center;justify-content:center;width:100%;height:%?86?%;margin-top:%?80?%;background-color:var(--view-theme);border-radius:%?120?%;color:#fff;font-size:%?30?%}.login-wrapper .whiteBg .tips[data-v-4673da54]{margin:%?30?%;text-align:center;color:#999}.protocol[data-v-4673da54]{margin-top:%?40?%;color:#999;font-size:%?24?%;text-align:center;bottom:%?20?%}.bottom[data-v-4673da54]{position:fixed;bottom:%?30?%;left:0;display:flex;width:100%;justify-content:center;color:#999}.bottom .ver[data-v-4673da54]{font-size:%?20?%}.bottom .ver-msg[data-v-4673da54]{margin-left:%?10?%}.bottom a[data-v-4673da54]{color:#999;margin-left:%?10?%;text-decoration:none}.trembling[data-v-4673da54]{-webkit-animation:shake .6s;animation:shake .6s}.main-color[data-v-4673da54]{color:var(--view-theme)}',""]),t.exports=e},e7dc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAiCAYAAACqVHINAAABcklEQVRIS+2XsUvDQBTGv6+00MGho4OD/gFuGSr+CbkWClIX/wAHBzddhICDCIpL9y46SqEJmRwFK2R018HBwc0OhZR7cqXRWDA27YFLbgu8e797X+4d36PneWXHcY4A7ANYg6UlIm8kO1EUndP3/TOSxyIyJBlZYkBEHJIrAC4M5MN8aK23ms3mwBak3+/XS6XSw+TwQRCISRzH8Uar1XqxBen1euuVSuXZ5MuEhGG4q7W+BlDOgI9I7rmue5uOmRsyLfn0D8hYa30yK/XckGWkKyC51CvkKuTKflZy6TMTXNyuXOoVchVyfTejiAxIjnJpkhEsIlWS9R9GAsArgLEtyNQXTMzi/1uiZapaqBmDIHAB7CRgEblrNBo3vx1kIYjv+z5JlUr6pJTatArpdrvVWq22miSN4/i93W4P54IkhttcN9d1H5f5D+m9YRhua63vE8N9BeDQ9ugAwPSI6RWPqSHoAMCXHBYqMhNCRyl1+QmrN5sHdi02lgAAAABJRU5ErkJggg=="},f287:function(t,e,n){"use strict";n.r(e);var i=n("2fd9"),a=n("48b6");for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("b647"),n("3b5b");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"4673da54",null,!1,i["a"],o);e["default"]=c.exports},f4b3:function(t,e,n){"use strict";var i=n("23e7"),a=n("d039"),r=n("7b0b"),o=n("c04e"),s=a((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));i({target:"Date",proto:!0,forced:s},{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})}}]);