(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/staff_list/index"],{"0569":function(t,e,n){"use strict";(function(t){n("62f9");i(n("66fd"));var e=i(n("6109"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"1a90":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}));var i={zbCode:function(){return Promise.all([n.e("common/vendor"),n.e("components/zb-code/zb-code")]).then(n.bind(null,"5799"))}},o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.refund_close=!1},t.e1=function(e){t.refund_close=!1},t.e2=function(e){t.codeModal=!1})},s=[]},"1eb9":function(t,e,n){"use strict";n.r(e);var i=n("538a"),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a},"538a":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("56ec"),o=n("858e"),s=n("26cb"),r=c(n("2d3a"));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(){n.e("components/Authorize").then(function(){return resolve(n("0cda"))}.bind(null,n)).catch(n.oe)},a=function(){Promise.all([n.e("common/vendor"),n.e("components/home/index")]).then(function(){return resolve(n("c872"))}.bind(null,n)).catch(n.oe)},d=function(){Promise.all([n.e("common/vendor"),n.e("components/zb-code/zb-code")]).then(function(){return resolve(n("5799"))}.bind(null,n)).catch(n.oe)},l={components:{authorize:u,home:a,zbCode:d},mixins:[r.default],data:function(){return{total:0,totalLevel:0,agent_percent:null,teamCount:0,page:1,limit:20,keyword:"",sort:"",grade:0,uid:0,status:!1,recordList:[],refund_close:!1,isAuto:!1,isShowAuth:!1,codeShow:!1,cid:"1",ifShow:!0,val:"",size:400,unit:"upx",background:"#FFF",foreground:"#000",pdground:"#000",icon:"",iconsize:70,lv:3,onval:!0,loadMake:!0,src:"",codeSrc:"",codeModal:!1}},computed:(0,s.mapGetters)(["isLogin"]),onLoad:function(){this.isLogin?this.userSpreadNewList():(0,o.toLogin)()},onShow:function(){this.is_show&&this.userSpreadNewList()},onHide:function(){this.is_show=!0},methods:{qrR:function(t){this.codeSrc=t},showCode:function(){this.codeModal=!0},posterImageClose:function(){this.codeModal=!1},onLoadFun:function(t){this.userSpreadNewList()},authColse:function(t){this.isShowAuth=t},setSort:function(t){var e=this;e.sort=t,e.page=1,e.limit=20,e.status=!1,e.$set(e,"recordList",[]),e.userSpreadNewList()},submitForm:function(){this.page=1,this.limit=20,this.status=!1,this.$set(this,"recordList",[]),this.userSpreadNewList()},clear:function(e,n){var o=this;t.showModal({title:"删除员工",content:"确定删除该员工?",success:function(t){if(t.confirm)(0,i.delClerkPercent)(e.uid).then((function(t){return o.recordList.splice(n,1),o.$set(o,"recordList",o.recordList),o.$util.Tips({title:"删除成功",icon:"success"})})).catch((function(t){return o.$util.Tips({title:t})}));else if(t.cancel)return o.$util.Tips({title:"已取消"})}})},changeData:function(t){this.refund_close=!0,this.uid=t.uid},refundSubmit:function(){var t=this;if(this.agent_percent<0)return this.$util.Tips({title:"请输入比例"});(0,i.setClerkPercent)({agent_percent:this.agent_percent,uid:this.uid}).then((function(e){t.$util.Tips({title:e.msg,icon:"success"},(function(){t.refund_close=!1,t.page=1,t.limit=20,t.keyword="",t.sort="",t.status=!1,t.$set(t,"recordList",[]),t.userSpreadNewList()}))})).catch((function(e){t.$util.Tips({title:e})}))},setType:function(t){this.grade!=t&&(this.grade=t,this.page=1,this.limit=20,this.keyword="",this.sort="",this.status=!1,this.$set(this,"recordList",[]),this.userSpreadNewList())},userSpreadNewList:function(){var t=this,e=t.page,n=t.limit,o=t.status,s=t.keyword,r=t.sort,c=t.grade,u=t.recordList,a=[];1!=o&&(0,i.clerkPeople)({page:e,limit:n,keyword:s,grade:c,sort:r}).then((function(i){var o=i.data.list.length,s=i.data.list;a=u.concat(s),t.total=i.data.total,t.totalLevel=i.data.totalLevel,t.teamCount=i.data.count,t.codeSrc=i.data.codeUrl,t.status=n>o,t.page=e+1,t.$set(t,"recordList",a)}))}},onReachBottom:function(){this.userSpreadNewList()}};e.default=l}).call(this,n("543d")["default"])},"5de8":function(t,e,n){},6109:function(t,e,n){"use strict";n.r(e);var i=n("1a90"),o=n("1eb9");for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);n("a3cd");var r,c=n("f0c5"),u=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"0fbe43a6",null,!1,i["a"],r);e["default"]=u.exports},a3cd:function(t,e,n){"use strict";var i=n("5de8"),o=n.n(i);o.a}},[["0569","common/runtime","common/vendor"]]]);