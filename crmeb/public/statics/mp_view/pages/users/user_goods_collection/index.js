(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_goods_collection/index"],{"2e2c":function(t,e,o){"use strict";var i;o.d(e,"b",(function(){return n})),o.d(e,"c",(function(){return c})),o.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,o=(t._self._c,t.collectProductList.length?t.__map(t.collectProductList,(function(e,o){var i=t.__get_orig(e),n=e.pid.toString();return{$orig:i,g0:n}})):null);t.$mp.data=Object.assign({},{$root:{l0:o}})},c=[]},4130:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o("b2cd"),n=o("26cb"),c=o("f9f5"),l=u(o("5411"));function u(t){return t&&t.__esModule?t:{default:t}}function s(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var a=function(){Promise.all([o.e("common/vendor"),o.e("components/recommend/index")]).then(function(){return resolve(o("1024"))}.bind(null,o)).catch(o.oe)},r=function(){o.e("components/Authorize").then(function(){return resolve(o("97f9"))}.bind(null,o)).catch(o.oe)},d=function(){Promise.all([o.e("common/vendor"),o.e("components/home/index")]).then(function(){return resolve(o("b60d"))}.bind(null,o)).catch(o.oe)},h=s({components:{recommend:a,authorize:r,home:d},mixins:[l.default],data:function(){return{ids:[],hostProduct:[],checkbox_show:!1,loadTitle:"加载更多",loading:!1,loadend:!1,collectProductList:[],count:0,limit:8,page:1,isAuto:!1,isShowAuth:!1,hotScroll:!1,hotPage:1,hotLimit:10,isAllSelect:!1}},computed:(0,n.mapGetters)(["isLogin"]),onLoad:function(){this.isLogin?(this.loadend=!1,this.page=1,this.collectProductList=[],this.getUserCollectProduct()):(0,c.toLogin)()},onShow:function(){this.loadend=!1,this.page=1,this.$set(this,"collectProductList",[]),this.getUserCollectProduct()},onReachBottom:function(){this.getUserCollectProduct()},methods:{showRadio:function(){this.checkbox_show=!this.checkbox_show},checkboxChange:function(t){t.detail.value.length<this.ids.length?this.$set(this,"isAllSelect",!1):t.detail.value.length===this.collectProductList.length&&this.$set(this,"isAllSelect",!0),this.$set(this,"ids",t.detail.value)},subDel:function(){var t=this,e=this;if(!this.ids.length)return e.$util.Tips({title:"请选择商品"});(0,i.collectDel)(e.ids).then((function(o){e.loadend=!1,e.$util.Tips({title:o.msg}),e.page=1,e.collectProductList=[],t.getUserCollectProduct()}))},checkboxAllChange:function(t){var e=t.detail.value;e.length>0?this.setAllSelectValue(1):this.setAllSelectValue(0)},setAllSelectValue:function(t){var e=this,o=[],i=e.collectProductList;if(i.length>0){var n=i.map((function(i){return t?(i.checked=!0,o.push(i.pid),e.isAllSelect=!0):(i.checked=!1,e.isAllSelect=!1),i}));e.$set(e,"collectProductList",n),e.$set(e,"ids",o)}},jump:function(e){t.navigateTo({url:"/pages/goods_details/index?id="+e.pid})},onLoadFun:function(){this.loadend=!1,this.page=1,this.$set(this,"collectProductList",[]),this.getUserCollectProduct()},authColse:function(t){this.isShowAuth=t},getUserCollectProduct:function(){var t=this,e=this;this.loading||this.loadend||(e.loading=!0,e.loadTitle="",(0,i.getCollectUserList)({page:e.page,limit:e.limit}).then((function(o){t.count=o.data.count;var i=o.data.list;i.map((function(t){t.checked=!1}));var n=i.length<e.limit;e.collectProductList=e.$util.SplitArray(i,e.collectProductList),e.$set(e,"collectProductList",e.collectProductList),e.loadend=n,e.loadTitle=n?"我也是有底线的":"加载更多",e.collectProductList.length||1!=e.page||t.get_host_product(),e.page=e.page+1,e.loading=!1})).catch((function(t){e.loading=!1,e.loadTitle="加载更多"})))},get_host_product:function(){var t=this;t.hotScroll||(0,i.getProductHot)(t.hotPage,t.hotLimit).then((function(e){t.hotPage++,t.hotScroll=e.data.length<t.hotLimit,t.hostProduct=t.hostProduct.concat(e.data)}))}}},"onReachBottom",(function(){this.getUserCollectProduct()}));e.default=h}).call(this,o("543d")["default"])},"50c7":function(t,e,o){},"550f":function(t,e,o){"use strict";o.r(e);var i=o("2e2c"),n=o("ebfb");for(var c in n)"default"!==c&&function(t){o.d(e,t,(function(){return n[t]}))}(c);o("6d9a");var l,u=o("f0c5"),s=Object(u["a"])(n["default"],i["b"],i["c"],!1,null,"0d3a93ee",null,!1,i["a"],l);e["default"]=s.exports},6188:function(t,e,o){"use strict";(function(t){o("ebf5");i(o("66fd"));var e=i(o("550f"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=o,t(e.default)}).call(this,o("543d")["createPage"])},"6d9a":function(t,e,o){"use strict";var i=o("50c7"),n=o.n(i);n.a},ebfb:function(t,e,o){"use strict";o.r(e);var i=o("4130"),n=o.n(i);for(var c in i)"default"!==c&&function(t){o.d(e,t,(function(){return i[t]}))}(c);e["default"]=n.a}},[["6188","common/runtime","common/vendor"]]]);