(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1e5674c3"],{"1c3a":function(e,t,r){},"3b2b":function(e,t,r){var s=r("7726"),a=r("5dbc"),n=r("86cc").f,i=r("9093").f,o=r("aae3"),c=r("0bfb"),d=s.RegExp,u=d,l=d.prototype,f=/a/g,p=/a/g,v=new d(f)!==f;if(r("9e1e")&&(!v||r("79e5")((function(){return p[r("2b4c")("match")]=!1,d(f)!=f||d(p)==p||"/a/i"!=d(f,"i")})))){d=function(e,t){var r=this instanceof d,s=o(e),n=void 0===t;return!r&&s&&e.constructor===d&&n?e:a(v?new u(s&&!n?e.source:e,t):u((s=e instanceof d)?e.source:e,s&&n?c.call(e):t),r?this:l,d)};for(var _=function(e){e in d||n(d,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=i(u),g=0;m.length>g;)_(m[g++]);l.constructor=d,d.prototype=l,r("2aba")(s,"RegExp",d)}r("7a56")("RegExp")},"5d77":function(e,t,r){"use strict";var s=r("1c3a"),a=r.n(s);a.a},"61f7":function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return l}));r("8e6e"),r("ac6a"),r("456d");var s=r("bd86");r("6b54"),r("3b2b"),r("a481");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var s in r)if(new RegExp("(".concat(s,")")).test(t)){var a=r[s]+"";t=t.replace(RegExp.$1,1===RegExp.$1.length?a:o(a))}return t}function o(e){return("00"+e).substr(e.length)}var c={min:"%s最小长度为:min",max:"%s最大长度为:max",length:"%s长度必须为:length",range:"%s长度为:range",pattern:"$s格式错误"};var d=function(e,t){e.message=function(e){return t.replace("%s",e||"")}};function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n({required:!0,message:e,type:"string"},t)}function l(e){return f.pattern(/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,e)}d(u,"请输入%s"),d(l,"%s格式不正确");var f=Object.keys(c).reduce((function(e,t){return e[t]=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="range"===t?{min:e[0],max:e[1]}:Object(s["a"])({},t,e);return n(n({message:r.replace(":".concat(t),"range"===t?"".concat(e[0],"-").concat(e[1]):e),type:"string"},i),a)},d(e[t],c[t]),e}),{})},"8c8a":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"priceChange",class:!0===e.change?"on":""},[r("div",{staticClass:"priceTitle"},[e._v("\n      "+e._s(0===e.status?1===e.orderInfo.refund_status?"立即退款":"一键改价":"订单备注")+"\n      "),r("span",{staticClass:"iconfontYI icon-guanbi",on:{click:e.close}})]),0===e.status?r("div",{staticClass:"listChange"},[0===e.orderInfo.refund_status?r("div",{staticClass:"item acea-row row-between-wrapper"},[r("div",[e._v("商品总价(¥)")]),r("div",{staticClass:"money"},[e._v("\n          "+e._s(e.orderInfo.total_price)),r("span",{staticClass:"iconfontYI icon-suozi"})])]):e._e(),0===e.orderInfo.refund_status?r("div",{staticClass:"item acea-row row-between-wrapper"},[r("div",[e._v("原始邮费(¥)")]),r("div",{staticClass:"money"},[e._v("\n          "+e._s(e.orderInfo.pay_postage)),r("span",{staticClass:"iconfontYI icon-suozi"})])]):e._e(),0===e.orderInfo.refund_status?r("div",{staticClass:"item acea-row row-between-wrapper"},[r("div",[e._v("实际支付(¥)")]),r("div",{staticClass:"money"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"price"}],class:!0===e.focus?"on":"",attrs:{type:"text"},domProps:{value:e.price},on:{focus:e.priceChange,input:function(t){t.target.composing||(e.price=t.target.value)}}})])]):e._e(),1===e.orderInfo.refund_status?r("div",{staticClass:"item acea-row row-between-wrapper"},[r("div",[e._v("实际支付(¥)")]),r("div",{staticClass:"money"},[e._v("\n          "+e._s(e.orderInfo.pay_price)),r("span",{staticClass:"iconfontYI icon-suozi"})])]):e._e(),1===e.orderInfo.refund_status?r("div",{staticClass:"item acea-row row-between-wrapper"},[r("div",[e._v("退款金额(¥)")]),r("div",{staticClass:"money"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.refund_price,expression:"refund_price"}],class:!0===e.focus?"on":"",attrs:{type:"text"},domProps:{value:e.refund_price},on:{focus:e.priceChange,input:function(t){t.target.composing||(e.refund_price=t.target.value)}}})])]):e._e()]):r("div",{staticClass:"listChange"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.remark,expression:"remark"}],attrs:{placeholder:e.orderInfo.remark?e.orderInfo.remark:"请填写备注信息...",maxlength:"100"},domProps:{value:e.remark},on:{input:function(t){t.target.composing||(e.remark=t.target.value)}}})]),r("div",{staticClass:"modify",on:{click:e.save}},[e._v("\n      "+e._s(0===e.orderInfo.refund_status||1===e.status?"立即修改":"确认退款")+"\n    ")]),1===e.orderInfo.refund_status&&0===e.status?r("div",{staticClass:"modify1",on:{click:e.refuse}},[e._v("\n      拒绝退款\n    ")]):e._e()]),r("div",{directives:[{name:"show",rawName:"v-show",value:!0===e.change,expression:"change === true"}],staticClass:"maskModel",on:{touchmove:function(e){e.preventDefault()}}})])},a=[],n=(r("96cf"),r("3b8d")),i=(r("c5f6"),r("61f7")),o=r("69ae"),c=r("42e3"),d={name:"PriceChange",components:{},props:{change:Boolean,orderInfo:{type:Object,default:null},status:{type:Number,default:0}},data:function(){return{focus:!1,price:0,refund_price:0,remark:""}},watch:{orderInfo:function(){this.price=this.orderInfo.pay_price,this.refund_price=this.orderInfo.pay_price,this.remark=this.orderInfo.remark}},methods:{priceChange:function(){this.focus=!0},close:function(){this.price=this.orderInfo.pay_price,this.$emit("closeChange",!1)},save:function(){this.savePrice({price:this.price,refund_price:this.refund_price,type:1,remark:this.remark,id:this.orderInfo.id,order_id:this.orderInfo.order_id})},savePrice:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,s,a,n,d,u,l=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this,s={},a=t.price,n=t.refund_price,d=r.orderInfo.refund_status,u=t.remark,0!=r.status||0!==d){e.next=19;break}return e.prev=2,e.next=5,this.$validator({price:[Object(i["c"])(i["c"].message("金额")),Object(i["b"])(i["b"].message("金额"))]}).validate({price:a});case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e["catch"](2),e.abrupt("return",Object(o["b"])(e.t0));case 10:s.total_price=this.orderInfo.total_price,s.total_postage=this.orderInfo.total_price,s.pay_postage=this.orderInfo.pay_postage,s.gain_integral=this.orderInfo.gain_integral,s.pay_price=t.price,s.order_id=t.order_id,Object(c["f"])(t.id,s).then((function(){l.$emit("closechange",!1),r.$dialog.success("改价成功")})).catch((function(e){r.$dialog.error(e.msg)})),e.next=45;break;case 19:if(0!=r.status||1!==d){e.next=34;break}return e.prev=20,e.next=23,this.$validator({refund_price:[Object(i["c"])(i["c"].message("金额")),Object(i["b"])(i["b"].message("金额"))]}).validate({refund_price:n});case 23:e.next=28;break;case 25:return e.prev=25,e.t1=e["catch"](20),e.abrupt("return",Object(o["b"])(e.t1));case 28:s.price=t.refund_price,s.type=t.type,s.order_id=t.order_id,Object(c["w"])(s).then((function(e){l.$emit("closechange",!1),r.$dialog.success("操作成功")}),(function(e){l.$emit("closechange",!1),r.$dialog.error(e.msg)})),e.next=45;break;case 34:return e.prev=34,e.next=37,this.$validator({remark:[Object(i["c"])(i["c"].message("备注"))]}).validate({remark:u});case 37:e.next=42;break;case 39:return e.prev=39,e.t2=e["catch"](34),e.abrupt("return",Object(o["b"])(e.t2));case 42:s.remark=u,s.order_id=t.order_id,Object(c["x"])(s).then((function(e){l.$emit("closechange",!1),r.$dialog.success("提交成功")}),(function(e){l.$emit("closechange",!1),r.$dialog.error(e.msg)}));case 45:case"end":return e.stop()}}),e,this,[[2,7],[20,25],[34,39]])})));function t(t){return e.apply(this,arguments)}return t}(),refuse:function(){this.savePrice({price:this.price,refund_price:this.refund_price,type:2,remark:this.remark,id:this.orderInfo.id,order_id:this.orderInfo.order_id})}}},u=d,l=(r("5d77"),r("2877")),f=Object(l["a"])(u,s,a,!1,null,"56fed036",null);t["a"]=f.exports},"958a":function(e,t,r){},afa3:function(e,t,r){e.exports=r.p+"img/line.05bf1c84.jpg"},ea39:function(e,t,r){"use strict";var s=r("958a"),a=r.n(s);a.a},f23d:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.orderInfo?r("div",{staticClass:"order-details pos-order-details"},[r("div",{staticClass:"header acea-row row-middle"},[r("div",{staticClass:"state"},[e._v(e._s(e.title))]),r("div",{staticClass:"data"},[r("div",{staticClass:"order-num"},[e._v("订单："+e._s(e.orderInfo.order_id))]),r("div",[r("span",{staticClass:"time"},[e._v(e._s(e.orderInfo._add_time))])])])]),"looks"!=e.$route.params.goname?r("div",{staticClass:"remarks acea-row"},[r("span",{staticClass:"iconfontYI icon-zhinengkefu- mr10"}),r("span",{staticClass:"line1",staticStyle:{"text-align":"left"},domProps:{textContent:e._s(e.orderInfo.remark?e.orderInfo.remark:"订单未备注，点击添加备注信息")},on:{click:function(t){return e.modify(1)}}})]):e._e(),r("div",{staticClass:"orderingUser acea-row row-middle"},[r("span",{staticClass:"iconfontYI icon-yonghu2"}),e._v(e._s(e.orderInfo.real_name)+"\n  ")]),r("div",{staticClass:"address"},[r("div",{staticClass:"name"},[e._v("\n      "+e._s(e.orderInfo.real_name)),r("span",{staticClass:"phone"},[e._v(e._s(e.orderInfo.user_phone))])]),r("div",[e._v(e._s(e.orderInfo.user_address))])]),e._m(0),r("div",{staticClass:"pos-order-goods"},e._l(e.orderInfo.cartInfo,(function(t,s){return r("div",{key:s,staticClass:"goods acea-row row-between-wrapper"},[r("div",{staticClass:"picTxt acea-row row-between-wrapper"},[r("div",{staticClass:"pictrue"},[r("img",{attrs:{src:t.productInfo.image}})]),r("div",{staticClass:"text"},[r("div",{staticClass:"info line2"},[e._v("\n            "+e._s(t.productInfo.store_name)+"\n          ")]),r("div",{staticClass:"attr"},[e._v(e._s(t.productInfo.attrInfo.suk))])])]),r("div",{staticClass:"money"},[r("div",{staticClass:"x-money"},[e._v("￥"+e._s(t.productInfo.attrInfo.price))]),r("div",{staticClass:"num"},[e._v("x"+e._s(t.cart_num))]),r("div",{staticClass:"y-money"},[e._v("￥"+e._s(t.productInfo.ot_price))])])])})),0),r("div",{staticClass:"public-total"},[e._v("\n    共"+e._s(e.orderInfo.cart_num)+"件商品，应支付\n    "),r("span",{staticClass:"money"},[e._v("￥"+e._s(e.orderInfo.pay_price))]),e._v(" ( 邮费 ¥"+e._s(e.orderInfo.pay_postage)+"\n    )\n  ")]),r("div",{staticClass:"wrapper"},[r("div",{staticClass:"item acea-row row-between"},[r("div",[e._v("订单编号：")]),r("div",{staticClass:"conter acea-row row-middle row-right"},[e._v("\n        "+e._s(e.orderInfo.order_id)+"\n        "),r("span",{staticClass:"copy copy-data",attrs:{"data-clipboard-text":e.orderInfo.order_id}},[e._v("复制")])])]),r("div",{staticClass:"item acea-row row-between"},[r("div",[e._v("支付时间：")]),r("div",{staticClass:"conter"},[e._v(e._s(e.orderInfo._pay_time))])]),r("div",{staticClass:"item acea-row row-between"},[r("div",[e._v("支付状态：")]),r("div",{staticClass:"conter"},[e._v("\n        "+e._s(e.title)+"\n      ")])]),r("div",{staticClass:"item acea-row row-between"},[r("div",[e._v("支付方式：")]),r("div",{staticClass:"conter"},[e._v("\n        "+e._s(e.orderInfo._status?e.orderInfo._status._payType:"")+"\n      ")])]),r("div",{staticClass:"item acea-row row-between"},[r("div",[e._v("买家留言：")]),r("div",{staticClass:"conter"},[e._v(e._s(e.orderInfo.mark))])])]),r("div",{staticClass:"wrapper"},[r("div",{staticClass:"item acea-row row-between"},[r("div",[e._v("支付金额：")]),r("div",{staticClass:"conter"},[e._v("￥"+e._s(e.orderInfo.total_price))])]),r("div",{staticClass:"item acea-row row-between"},[r("div",[e._v("优惠券抵扣：")]),r("div",{staticClass:"conter"},[e._v("-￥"+e._s(e.orderInfo.coupon_price))])]),r("div",{staticClass:"item acea-row row-between"},[r("div",[e._v("运费：")]),r("div",{staticClass:"conter"},[e._v("￥"+e._s(e.orderInfo.total_postage))])]),r("div",{staticClass:"actualPay acea-row row-right"},[e._v("\n      实付款："),r("span",{staticClass:"money font-color-red"},[e._v("￥"+e._s(e.orderInfo.pay_price))])])]),"express"===e.orderInfo.deliveryType?r("div",{staticClass:"wrapper"},[r("div",{staticClass:"item acea-row row-between"},[r("div",[e._v("配送方式：")]),"express"===e.orderInfo.delivery_type?r("div",{staticClass:"conter"},[e._v("\n        快递\n      ")]):e._e(),"send"===e.orderInfo.delivery_type?r("div",{staticClass:"conter"},[e._v("送货")]):e._e()]),r("div",{staticClass:"item acea-row row-between"},["express"===e.orderInfo.delivery_type?r("div",[e._v("快递公司：")]):e._e(),"send"===e.orderInfo.delivery_type?r("div",[e._v("送货人：")]):e._e(),r("div",{staticClass:"conter"},[e._v(e._s(e.orderInfo.deliveryName))])]),r("div",{staticClass:"item acea-row row-between"},["express"===e.orderInfo.delivery_type?r("div",[e._v("快递单号：")]):e._e(),"send"===e.orderInfo.delivery_type?r("div",[e._v("送货人电话：")]):e._e(),r("div",{staticClass:"conter"},[e._v("\n        "+e._s(e.orderInfo.delivery_id)),r("span",{staticClass:"copy copy-data",attrs:{"data-clipboard-text":e.orderInfo.delivery_id}},[e._v("复制")])])])]):e._e(),r("div",{staticStyle:{height:"1.2rem"}}),"looks"!=e.$route.params.goname?r("div",{staticClass:"footer acea-row row-right row-middle"},[r("div",{staticClass:"more"}),0===e.types?r("div",{staticClass:"bnt cancel",on:{click:function(t){return e.modify(0)}}},[e._v("\n      一键改价\n    ")]):e._e(),-1===e.types?r("div",{staticClass:"bnt cancel",on:{click:function(t){return e.modify(0)}}},[e._v("\n      立即退款\n    ")]):e._e(),r("div",{staticClass:"bnt cancel",on:{click:function(t){return e.modify(1)}}},[e._v("订单备注")]),"offline"===e.orderInfo.pay_type&&0===e.orderInfo.paid?r("div",{staticClass:"bnt cancel",on:{click:e.offlinePay}},[e._v("\n      确认付款\n    ")]):e._e(),1===e.types&&2!==e.orderInfo.shipping_type?r("router-link",{staticClass:"bnt delivery",attrs:{to:"/kefu/orderDelivery/"+e.orderInfo.id+"/"+e.orderInfo.order_id}},[e._v("去发货\n    ")]):e._e()],1):e._e(),r("PriceChange",{attrs:{change:e.change,orderInfo:e.orderInfo,status:e.status},on:{closechange:function(t){return e.changeclose(t)},closeChange:function(t){return e.closeChange(t)}}})],1):e._e()},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"line"},[s("img",{attrs:{src:r("afa3")}})])}],n=r("8c8a"),i=r("b311"),o=r.n(i),c=r("42e3"),d=(r("61f7"),r("69ae"),{name:"AdminOrder",components:{PriceChange:n["a"]},props:{},data:function(){return{order:!1,change:!1,orderId:"",orderInfo:{},status:0,title:"",payType:"",types:""}},watch:{"$route.params.id":function(e){var t=this;void 0!=e&&(t.orderId=e,t.getIndex())}},mounted:function(){this.getIndex(),this.$nextTick((function(){var e=this,t=document.getElementsByClassName("copy-data"),r=new o.a(t);r.on("success",(function(){e.$dialog.success("复制成功")}))}))},methods:{more:function(){this.order=!this.order},modify:function(e){this.change=!0,this.status=e},changeclose:function(e){this.change=e,this.getIndex()},closeChange:function(e){this.change=e},getIndex:function(){var e=this,t=this;Object(c["u"])(this.$route.params.id).then((function(r){t.orderInfo=r.data.orderInfo,t.types=r.data.orderInfo._status._type,t.title=r.data.orderInfo._status._title,e.$nextTick((function(){var e=this,t=document.getElementsByClassName("copy-data"),r=new o.a(t);r.on("success",(function(){e.$dialog.success("复制成功")}))}))}),(function(e){t.$dialog.error(e.msg)}))},offlinePay:function(){var e=this;setOfflinePay({orderId:this.orderInfo.orderId}).then((function(t){e.$dialog.success(t.msg),e.getIndex()}),(function(t){e.$dialog.error(t.msg)}))}}}),u=d,l=(r("ea39"),r("2877")),f=Object(l["a"])(u,s,a,!1,null,"44f9d282",null);t["default"]=f.exports}}]);