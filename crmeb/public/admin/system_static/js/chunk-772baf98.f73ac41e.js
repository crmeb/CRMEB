(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-772baf98"],{"29f2":function(e,t,a){"use strict";a.r(t);var l=a("f3f3"),o=(a("4de4"),a("d3b7"),a("b0c0"),a("2f62")),i=a("b0e7"),r=a("47c5");i={name:"creat_live",components:{uploadPictures:i.a},computed:Object(l.a)(Object(l.a)({},Object(o.e)("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:100},labelPosition:function(){return this.isMobile?"top":"right"}}),data:function(){return{gridBtn:{xl:4,lg:8,md:8,sm:8,xs:8},gridPic:{xl:6,lg:8,md:12,sm:12,xs:12},grid:{xl:10,lg:16,md:18,sm:24,xs:24},loading:!1,formValidate:{name:"",anchor_name:"",anchor_wechat:"",phone:"",screen_type:0,close_like:1,close_goods:1,close_comment:1,cover_img:"",share_img:"",sort:0,type:0,start_time:""},screen_type:[{value:"竖屏",label:0},{value:"横屏",label:1}],type:[{value:"手机直播",label:0}],close_like:[{value:"开启",label:1},{value:"关闭",label:0}],close_goods:[{value:"开启",label:1},{value:"关闭",label:0}],close_comment:[{value:"开启",label:1},{value:"关闭",label:0}],timeVal:"",modalPic:!1,isChoice:"单选",activeIndex:0,liveList:[],modal3:!1,ruleValidate:{anchor_wechat:[{required:!0,message:"Please select the city",trigger:"change"}],name:[{required:!0,message:"The name cannot be empty",trigger:"blur"}]}}},mounted:function(){this.getLive()},methods:{cancel:function(){this.modal3=!1},codeImg:function(){this.modal3=!0},anchorName:function(e){var t=this;this.liveList.filter((function(a,l){a.wechat===e&&(t.formValidate.anchor_name=a.name)}))},getLive:function(){var e=this;Object(r.c)({kerword:"",page:"",limit:""}).then((function(t){e.liveList=t.data.list})).catch((function(t){e.$Message.error(t.msg)}))},modalPicTap:function(e){this.activeIndex=e,this.modalPic=!0},selectDate:function(e){this.formValidate.start_time=e},getPic:function(e){var t=this;this.$nextTick((function(){0==t.activeIndex?t.formValidate.cover_img=e.att_dir:t.formValidate.share_img=e.att_dir,t.modalPic=!1}))},handleSubmit:function(e){var t=this;this.loading=!0,Object(r.a)(this.formValidate).then((function(e){t.$Message.success("添加成功"),setTimeout((function(){t.loading=!1,t.$router.push({path:t.$routeProStr+"/marketing/live/live_room"})}),500)})).catch((function(e){setTimeout((function(){t.loading=!1}),1e3),t.$Message.error(e.msg)}))}}},a("ccf7"),l=a("2877"),o=Object(l.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"i-layout-page-header header-title"},[a("div",{staticClass:"fl_header"},[a("span",[a("Button",{attrs:{icon:"ios-arrow-back",size:"small",type:"text"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("Divider",{attrs:{type:"vertical"}}),a("span",{staticClass:"ivu-page-header-title"},[e._v(e._s(e.$route.meta.title))])],1)]),a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("Form",{ref:"formValidate",staticClass:"tabform",attrs:{model:e.formValidate,"label-width":e.labelWidth,"label-position":e.labelPosition,rules:e.ruleValidate},nativeOn:{submit:function(e){e.preventDefault()}}},[a("Col",{attrs:{span:"24"}},[a("Alert",{staticStyle:{width:"550px","margin-left":"17px","margin-bottom":"25px"},attrs:{type:"warning","show-icon":""}},[e._v("必须前往微信小程序官方后台开通直播权限，关注"),a("span",{staticStyle:{color:"red",cursor:"pointer"},on:{click:e.codeImg}},[e._v("【小程序直播】")]),e._v("须知直播状态")])],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"选择主播：",prop:"anchor_wechat"}},[a("Select",{staticStyle:{width:"300px"},attrs:{filterable:"",clearable:""},on:{"on-change":e.anchorName},model:{value:e.formValidate.anchor_wechat,callback:function(t){e.$set(e.formValidate,"anchor_wechat",t)},expression:"formValidate.anchor_wechat"}},e._l(e.liveList,(function(t,l){return a("Option",{key:l,attrs:{value:t.wechat}},[e._v(e._s(t.wechat))])})),1)],1)],1),a("Row",{attrs:{gutter:24,type:"flex"}},[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"直播间名称：",prop:"name"}},[a("Input",{staticStyle:{width:"300px"},attrs:{"enter-button":"",placeholder:"请输入直播间名称","element-id":"name"},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("div",{staticStyle:{display:"flex"}},[a("FormItem",{attrs:{label:"背景图：",prop:"name"}},[a("div",{staticClass:"box",on:{click:function(t){return e.modalPicTap(0)}}},[e.formValidate.cover_img?a("img",{attrs:{src:e.formValidate.cover_img,alt:""}}):a("div",{staticClass:"upload-box"},[a("Icon",{attrs:{type:"ios-camera-outline",size:"36"}})],1)])]),a("span",{staticStyle:{"margin-left":"20px",color:"#b0bac5"}},[e._v("尺寸：1080*1920px")])],1)]),a("Col",{attrs:{span:"24"}},[a("div",{staticStyle:{display:"flex"}},[a("FormItem",{attrs:{label:"分享图：",prop:"name"}},[a("div",{staticClass:"box",on:{click:function(t){return e.modalPicTap(1)}}},[e.formValidate.share_img?a("img",{attrs:{src:e.formValidate.share_img,alt:""}}):a("div",{staticClass:"upload-box"},[a("Icon",{attrs:{type:"ios-camera-outline",size:"36"}})],1)])]),a("span",{staticStyle:{"margin-left":"20px",color:"#b0bac5"}},[e._v("尺寸：800*640px")])],1)]),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"联系电话："}},[a("Input",{staticStyle:{width:"300px"},attrs:{"enter-button":"",placeholder:"请输入主播联系电话","element-id":"phone"},model:{value:e.formValidate.phone,callback:function(t){e.$set(e.formValidate,"phone",t)},expression:"formValidate.phone"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"直播时间：",prop:"name"}},[a("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"datetimerange",format:"yyyy-MM-dd HH:mm",placeholder:"请选择直播时间",value:e.timeVal},on:{"on-change":e.selectDate}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"排序："}},[a("Input",{staticStyle:{width:"300px"},attrs:{type:"number","enter-button":"",placeholder:"0","element-id":"phone"},model:{value:e.formValidate.sort,callback:function(t){e.$set(e.formValidate,"sort",t)},expression:"formValidate.sort"}})],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"直播间类型："}},[a("RadioGroup",{model:{value:e.formValidate.type,callback:function(t){e.$set(e.formValidate,"type",t)},expression:"formValidate.type"}},e._l(e.type,(function(t,l){return a("Radio",{key:l,attrs:{label:t.label}},[a("span",[e._v(e._s(t.value))])])})),1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"直播间点赞："}},[a("RadioGroup",{model:{value:e.formValidate.close_like,callback:function(t){e.$set(e.formValidate,"close_like",t)},expression:"formValidate.close_like"}},e._l(e.close_like,(function(t,l){return a("Radio",{key:l,attrs:{label:t.label}},[a("span",[e._v(e._s(t.value))])])})),1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"直播卖货："}},[a("RadioGroup",{model:{value:e.formValidate.close_goods,callback:function(t){e.$set(e.formValidate,"close_goods",t)},expression:"formValidate.close_goods"}},e._l(e.close_goods,(function(t,l){return a("Radio",{key:l,attrs:{label:t.label}},[a("span",[e._v(e._s(t.value))])])})),1)],1)],1),a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"直播间评论："}},[a("RadioGroup",{model:{value:e.formValidate.close_comment,callback:function(t){e.$set(e.formValidate,"close_comment",t)},expression:"formValidate.close_comment"}},e._l(e.close_comment,(function(t,l){return a("Radio",{key:l,attrs:{label:t.label}},[a("span",[e._v(e._s(t.value))])])})),1)],1)],1)],1),a("Row",{attrs:{gutter:24,type:"flex"}},[a("Col",e._b({attrs:{span:"24"}},"Col",e.grid,!1),[a("Button",{staticStyle:{"margin-left":"99px"},attrs:{loading:e.loading,type:"primary"},on:{click:function(t){return e.handleSubmit("formItem")}}},[e.loading?a("span",[e._v("提交中...")]):a("span",[e._v("提交")])])],1)],1)],1)],1),a("div",[a("Modal",{attrs:{width:"950px",scrollable:"","footer-hide":"",closable:"",title:"上传商品图","mask-closable":!1,"z-index":888},model:{value:e.modalPic,callback:function(t){e.modalPic=t},expression:"modalPic"}},[e.modalPic?a("uploadPictures",{attrs:{isChoice:e.isChoice,gridBtn:e.gridBtn,gridPic:e.gridPic},on:{getPic:e.getPic}}):e._e()],1)],1),a("Modal",{attrs:{title:"二维码","footer-hide":""},on:{"on-cancel":e.cancel},model:{value:e.modal3,callback:function(t){e.modal3=t},expression:"modal3"}},[a("div",{staticClass:"acea-row row-around"},[a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"QRpic"},[a("img",{attrs:{src:"https://res.wx.qq.com/op_res/9rSix1dhHfK4rR049JL0PHJ7TpOvkuZ3mE0z7Ou_Etvjf-w1J_jVX0rZqeStLfwh"}})])])])],1)}),[],!1,null,"15fddd5e",null);t.default=o.exports},"6f36":function(e,t,a){},ccf7:function(e,t,a){"use strict";var l=a("6f36");a.n(l).a}}]);