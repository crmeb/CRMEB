(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-581882fc","chunk-7ae3f5bd"],{"04b3":function(t,e,a){"use strict";a("d0f0")},"189d":function(t,e,a){"use strict";a("a76a")},2250:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right-box"},t._l(t.list,(function(e,i){return a("div",{key:i,staticClass:"link-item"},[a("div",{staticClass:"title"},[t._v(t._s(e.name))]),a("div",{staticClass:"txt"},[a("span",[t._v("地址：")]),t._v(t._s(e.url)+"\n        ")]),e.parameter?a("div",{staticClass:"txt"},[t._m(0,!0),a("p",{domProps:{innerHTML:t._s(e.parameter)}})]):t._e(),a("div",{staticClass:"tips"},[t._v("例如："+t._s(e.example)+"\n            "),a("span",{staticClass:"copy copy-data",attrs:{"data-clipboard-text":e.example}},[t._v("复制")])])])})),0)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",[t._v("参数：")])])}],s=a("b311"),r=a.n(s),o=a("f478"),c={name:"links",data:function(){return{list:[{name:"商城首页",url:"/pages/users/order_list/index",parameter:[{}],example:"/pages/activity/bargain/index"},{name:"商城首页",url:"/pages/users/order_list/index",parameter:[{}],example:"/pages/activity/bargain/index"}]}},created:function(){var t=this;Object(o["g"])().then((function(e){t.list=e.data.url}))},mounted:function(){this.$nextTick((function(){var t=this,e=new r.a(".copy-data");e.on("success",(function(){t.$Message.success("复制成功")}))}))},methods:{}},u=c,f=(a("189d"),a("2877")),l=Object(f["a"])(u,i,n,!1,null,"a58b35b0",null);e["default"]=l.exports},2996:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"i-layout-page-header"},[a("div",{staticClass:"i-layout-page-header"},[a("router-link",{attrs:{to:{path:"/admin/setting/pages/devise"}}},[a("Button",{staticClass:"mr20",attrs:{icon:"ios-arrow-back",size:"small"}},[t._v("返回")])],1),a("span",{staticClass:"ivu-page-header-title mr20"},[t._v("页面设计")])],1)]),a("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[a("div",{staticClass:"flex-wrapper"},[a("iframe",{ref:"iframe",staticClass:"iframe-box",attrs:{src:t.iframeUrl,frameborder:"0"}}),a("div",[a("div",{staticClass:"content"},[a("rightConfig",{attrs:{name:t.configName,pageId:t.pageId}})],1)]),a("links")],1)])],1)},n=[],s=(a("7f7f"),a("f478")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.rCom.length?a("div",{staticClass:"right-box"},[a("div",{staticClass:"title-bar"},[t._v("模块配置")]),t.rCom.length?a("div",{staticClass:"mobile-config"},[t._l(t.rCom,(function(e,i){return a("div",{key:i},[a(e.components.name,{tag:"component",attrs:{name:e.configNme,configData:t.configData}})],1)})),t.rCom.length?a("div",{staticStyle:{"text-align":"center"}},[a("Button",{staticStyle:{width:"100%",margin:"0 auto",height:"40px"},attrs:{type:"primary"},on:{click:t.saveConfig}},[t._v("保存")])],1):t._e()],2):t._e()]):t._e()},o=[],c=(a("8e6e"),a("ac6a"),a("456d"),a("6b54"),a("c5f6"),a("ade3")),u=a("2542");function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){Object(c["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"rightConfig",components:l({},u["a"]),props:{name:{type:null,default:""},pageId:{type:Number,default:0}},computed:{defultArr:function(){var t=this.$store.state.userInfo.pageName;return this.$store.state[t].component}},watch:{name:{handler:function(t,e){this.rCom=[];var a=this.$store.state.userInfo.pageName;if(this.configData=this.$store.state[a].defaultConfig[t],this.rCom=this.$store.state[a].component[t].list,this.configData.selectConfig){var i=this.configData.selectConfig.type?this.configData.selectConfig.type:"";this.configData.selectConfig.list=this.categoryList,i?this.getByCategory():this.getCategory()}},deep:!0},defultArr:{handler:function(t,e){this.rCom=[];this.objToArray(t);this.rCom=t[this.name].list},deep:!0}},data:function(){return{rCom:[],configData:{},isShow:!0,categoryList:[]}},mounted:function(){},methods:{getCategory:function(){var t=this;Object(s["f"])().then((function(e){var a=[];e.data.map((function(t){a.push({title:t.title,pid:t.pid,activeValue:t.id.toString()})})),t.categoryList=a,t.bus.$emit("upData",a)}))},getByCategory:function(){var t=this;Object(s["e"])().then((function(e){var a=[];e.data.map((function(t){a.push({title:t.cate_name,pid:t.pid,activeValue:t.id.toString()})})),t.categoryList=a,t.bus.$emit("upData",a)}))},saveConfig:function(){var t=this,e=this.$store.state.userInfo.pageName,a=this.$store.state[e].defaultConfig;Object(s["d"])(this.pageId,{value:a}).then((function(e){t.$Message.success("保存成功")}))},objToArray:function(t){var e=[];for(var a in t)e.push(t[a]);return e}}},p=d,g=(a("e3f1"),a("2877")),m=Object(g["a"])(p,r,o,!1,null,"7532ce2e",null),h=m.exports,v=a("2250"),C={name:"index",components:{rightConfig:h,links:v["default"]},data:function(){return{configName:"",iframeUrl:"",setConfig:"",updataConfig:"",pageId:0}},created:function(){var t=this,e=this.$route.query.id,a=this.$route.query.name;this.setConfig=a+"/setConfig",this.updataConfig=a+"/updataConfig",this.pageId=parseInt(e),this.iframeUrl="".concat(location.origin,"?type=iframe"),Object(s["b"])(parseInt(e)).then((function(e){var a=e.data.info.value;t.upData(a)}))},mounted:function(){window.addEventListener("message",this.handleMessage,!1)},methods:{handleMessage:function(t){t.data.name&&(this.configName=t.data.name,this.add(t.data.name))},add:function(t){this.$store.commit(this.setConfig,t)},upData:function(t){this.$store.commit(this.updataConfig,t)}}},b=C,y=(a("04b3"),Object(g["a"])(b,i,n,!1,null,"ea82307c",null));e["default"]=y.exports},"6ffd":function(t,e,a){},a76a:function(t,e,a){},d0f0:function(t,e,a){},e3f1:function(t,e,a){"use strict";a("6ffd")}}]);